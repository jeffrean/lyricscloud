<!DOCTYPE html>
<html>
	<head>
		<title>QUnit Test Suite</title>

		<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.1.1.css">

  		<script type="text/javascript" src="SongLyrics.js"></script>
  		<script type="text/javascript" src="AutoComplete.js"></script>

	</head>
	<body>
    	<div id="qunit"></div>
    	<div id="qunit-fixture"></div>
    	<script src="https://code.jquery.com/qunit/qunit-2.1.1.js"></script>
    	<script>

    		//BEGIN SONGLYRICS.JS TESTS

			/*
		  	*tests checkHighlight(lyricsSplitArrat) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("checkHighlightTest", function( assert ) {
	    		function highlightTest(lyricsSplitArray, word, expectedCount) {
	    			assert.equal(checkHighlightTest(lyricsSplitArray, word), expectedCount); 
			    }
			    highlightTest(["Hello"], "hello",1);
			    highlightTest(["Hello", "yo", "hey"], "hello",1);
			    highlightTest([], "hello",0);
			    highlightTest(["HELLO", "yo"], "hello",1);
			    highlightTest(["hello"], "hello",1);
			    highlightTest(["Hello", "yo"], "HELLO",1); 
			    highlightTest(["no","no","no"], "hello",0);
			    highlightTest(null, null,0);
		  	});
		  	/*
		  	*tests createLyricsSplitArray(lyricsString) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("createLyricsSplitArrayTest", function( assert ) {
			    function arrayTest(testString, expected) {
			    	assert.equal(createLyricsSplitArray(testString).length, expected); 
			    }
			    arrayTest("Hello My Name Is Taylor", 5);
			    arrayTest("Hey ",2);
			    arrayTest("  ",2);
			    arrayTest("My",1);
			    arrayTest("Spilt TestTest",2);
		  	});

		  	//BEGIN SONGLIST.JS TESTS
		  	/*
		  	*tests createLyricsSplitArray(lyricsString) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("createLyricsSplitArrayTest", function( assert ) {
			    function sortSongsTest(testString, expected) {
			    	assert.equal(sortSongs(testString), expected); 
			    }
			    sortSongsTest(); 
		  	});
		  	/*
		  	*tests createLyricsSplitArray(lyricsString) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("createLyricsSplitArrayTest", function( assert ) {
			    function arrayTest(testString, expected) {
			    	assert.equal(createLyricsSplitArray(testString).length, expected); 
			    }
			    arrayTest("Hello My Name Is Taylor", 5);
			    arrayTest("Hey ",2);
			    arrayTest("  ",2);
			    arrayTest("My",1);
			    arrayTest("Spilt TestTest",2);
		  	});
		  	/*
		  	*tests createLyricsSplitArray(lyricsString) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("createLyricsSplitArrayTest", function( assert ) {
			    function arrayTest(testString, expected) {
			    	assert.equal(createLyricsSplitArray(testString).length, expected); 
			    }
			    arrayTest("Hello My Name Is Taylor", 5);
			    arrayTest("Hey ",2);
			    arrayTest("  ",2);
			    arrayTest("My",1);
			    arrayTest("Spilt TestTest",2);
		  	});

		  	//BEGIN AUTOCOMPLETE.JS TESTS

		  	/*
		  	*tests getUrl(artist) function in AutoComplete.js
		  	*
		  	*/
		  	QUnit.test("getUrlTest", function( assert ) {
		  		assert.equal(getUrl("Adele"), "getArtists.php?artist=Adele*");
		  		assert.equal(getUrl("'"), "getArtists.php?artist='*");
		  		assert.equal(getUrl(123), "getArtists.php?artist=123*");
		  		assert.equal(getUrl(undefined), undefined);
		  		assert.equal(getUrl(null), null);
		  	});

		  	/*
		  	*tests requestArtists(url)
		  	*server must be active
		  	*/
		  	QUnit.test("requestArtistsTest", function( assert ) {
		  		var baseUrl = "http://localhost:8000/getArtists.php?artist=";
		  		assert.equal(typeof requestArtists(baseUrl + "Adele*"), "string");
		  		assert.equal(requestArtists(null), "");
		  		assert.equal(requestArtists(baseUrl),"");
		  	});
    	</script>
	</body>
</html>