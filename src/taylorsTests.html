<!DOCTYPE html>
<html>
	<head>
		<title>QUnit Test Suite</title>

		<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.1.1.css">

  		<script type="text/javascript" src="SongLyrics.js"></script>
  		<script type="text/javascript" src="SongList.js"></script>
  		<script type="text/javascript" src="AutoComplete.js"></script>

	</head>
	<body>
    	<div id="qunit"></div>
    	<div id="qunit-fixture"></div>
    	<script src="https://code.jquery.com/qunit/qunit-2.1.1.js"></script>
    	<script>

    		//BEGIN SONGLYRICS.JS TESTS

			/*
		  	*tests checkHighlight(lyricsSplitArrat) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("checkHighlightTest", function( assert ) {
	    		function highlightTest(lyricsSplitArray, word, expectedCount) {
	    			assert.equal(checkHighlightTest(lyricsSplitArray, word), expectedCount); 
			    }
			    highlightTest(["Hello"], "hello",1);
			    highlightTest(["Hello", "yo", "hey"], "hello",1);
			    highlightTest([], "hello",0);
			    highlightTest(["HELLO", "yo"], "hello",1);
			    highlightTest(["hello"], "hello",1);
			    highlightTest(["Hello", "yo"], "HELLO",1); 
			    highlightTest(["no","no","no"], "hello",0);
			    highlightTest(null, null,0);
		  	});
		  	/*
		  	*tests createLyricsSplitArray(lyricsString) function in SongLyrics.js
		  	*
		  	*/
		  	QUnit.test("createLyricsSplitArrayTest", function( assert ) {
			    function arrayTest(testString, expected) {
			    	assert.equal(createLyricsSplitArray(testString).length, expected); 
			    }
			    arrayTest("Hello My Name Is Taylor", 5);
			    arrayTest("Hey ",2);
			    arrayTest("  ",2);
			    arrayTest("My",1);
			    arrayTest("Spilt TestTest",2);
		  	});

		  	//BEGIN SONGLIST.JS TESTS
		  	/*
		  	*tests sortSongs(songs) function in SongList.js
		  	*
		  	*/
		  	QUnit.test("sortSongsTest", function( assert ) {
			    function sortSongsTest(songs, expected) {
			    	sortSongs(songs); 
			    	assert.equal(songs.length, expected.length); 
			    	if (songs.length == expected.length) {
				    	for (var i=0; i<songs.length; i++) {
				    		assert.equal(songs[i].count, expected[i].count);
				    	}
				    }	
			    }
			    //expected added in order its supposed to be, songs cleared and remade before each test
			    var songs = [];
			    var expected = []; 
			    sortSongsTest(songs, []); 
			    	songs.push( {song: "Hello", artist: "Adele", count: 5});
			    	expected.push({song: "Hello", artist: "Adele", count: 5});
			    sortSongsTest(songs, expected); 
			    	songs.splice(0, songs.length);
			    sortSongsTest(songs, []);
			    	songs.push( {song: "Hello", artist: "Adele", count: 4}, {song: "Hello", artist: "Adele", count: 5})
			    	expected.push( {song: "Hello", artist: "Adele", count: 4});
			    sortSongsTest(songs, expected); 
			    	songs.splice(0, songs.length); 
			    	songs.push( {song: "Hello", artist: "Adele", count: 4}, {song: "Hello", artist: "Adele", count: 3}, {song: "Hello", artist: "Adele", count: 5});
			    	expected.push({song: "Hello", artist: "Adele", count: 3});
			    sortSongsTest(songs, expected);	
			    	songs.splice(0, songs.length); 
			    	expected.splice(0, expected.length); 
			    sortSongsTest(songs, expected); 	
		  	});
		  	/*
		  	*tests setSongList(songs) function in SongList.js
		  	*
		  	*/
		  	QUnit.test("setSongListTest", function( assert ) {
		  		function songListTest(songs, expected) {
		  			var result = setSongListTest(songs);
		  			assert.equal(result, expected);
		  		}
		  		//establishes songs each time to test if setting to right string
		  		var songs = [];
		  		songListTest(songs, ""); 
		  			songs.push( {song: "Hello", count: 5}); 
		  		songListTest(songs,"Hello (5) ");
		  			songs.push( {song: "Bye", count: 3}); 
		  		songListTest(songs, "Hello (5) Bye (3) ");
		  			songs.splice(0, songs.length);
		  		songListTest(songs,"");
		  	}); 

		  	//BEGIN AUTOCOMPLETE.JS TESTS

		  	/*
		  	*tests getUrl(artist) function in AutoComplete.js
		  	*
		  	*/
		  	/*
		  	QUnit.test("getUrlTest", function( assert ) {
		  		assert.equal(getUrl("Adele"), "getArtists.php?artist=Adele*");
		  		assert.equal(getUrl("'"), "getArtists.php?artist='*");
		  		assert.equal(getUrl(123), "getArtists.php?artist=123*");
		  		assert.equal(getUrl(undefined), undefined);
		  		assert.equal(getUrl(null), null);
		  	});*/

		  	/*
		  	*tests requestArtists(url)
		  	*server must be active
		  	*/
		  	/*
		  	QUnit.test("requestArtistsTest", function( assert ) {
		  		var baseUrl = "http://localhost:8000/getArtists.php?artist=";
		  		assert.equal(typeof requestArtists(baseUrl + "Adele*"), "string");
		  		assert.equal(requestArtists(null), "");
		  		assert.equal(requestArtists(baseUrl),"");
		  	});*/
    	</script>
	</body>
</html>